{"ast":null,"code":"import fecha from 'fecha';\n\nconst formatCategoryList = (categoryList, originalName) => {\n  if (!originalName) {\n    originalName = categoryList[0].originalName;\n  }\n\n  return categoryList.map((item, index) => {\n    if (item) {\n      item.value = item.originalName;\n      item.label = item.showName;\n\n      if (item.value === originalName) {\n        item.active = true;\n      } else {\n        item.active = false;\n      }\n\n      item.underlineLeft = 0;\n    }\n\n    return item;\n  });\n};\n\nconst minTimeSpan = 60 * 1000;\nconst hourTimeSpan = 60 * 60 * 1000;\nconst dayTimeSpan = 24 * hourTimeSpan;\nconst sevenDaysTimeSpan = 7 * dayTimeSpan;\n\nconst formatArticleList = list => {\n  const now = new Date();\n  return list.map((item, index) => {\n    item.timespanText = 'Baru saja';\n    const createTime = fecha.parse(item.createTime, 'YYYY-MM-DD HH:mm:ss');\n    const timespan = now.getTime() - createTime.getTime();\n\n    if (timespan >= minTimeSpan && timespan < hourTimeSpan) {\n      const minute = Math.floor(timespan / minTimeSpan);\n      item.timespanText = `${minute} menit yang lalu`;\n    } else if (timespan >= hourTimeSpan && timespan < dayTimeSpan) {\n      const hours = Math.floor(timespan / hourTimeSpan);\n      item.timespanText = `${hours} jam yang lalu`;\n    } else if (timespan >= dayTimeSpan && timespan < sevenDaysTimeSpan) {\n      const days = Math.floor(timespan / dayTimeSpan);\n      item.timespanText = `${days} hari yang lalu`;\n    } else if (timespan >= sevenDaysTimeSpan) {\n      item.timespanText = fecha.format(createTime, 'D MMM YYYY, HH:mm').replace('Aug', 'Ags').replace('Oct', 'Okt').replace('Dec', 'Des');\n    }\n\n    item.userId = +item.userId;\n\n    if (+item.supportNums > 999) {\n      item.supportNums = '999+';\n    }\n\n    if (+item.shareNums > 999) {\n      item.shareNums = '999+';\n    }\n\n    if (+item.messageNums > 999) {\n      item.messageNums = '999+';\n    }\n\n    const imageList = item.urls;\n\n    if (imageList) {\n      imageList.map(imgitem => {\n        if (imgitem.type === 2) {\n          imgitem.videoActive = false;\n        }\n\n        return imgitem;\n      });\n    }\n\n    return item;\n  });\n};\n\nconst formatArticle = item => {\n  const now = new Date();\n  item.timespanText = 'Baru saja';\n  const createTime = fecha.parse(item.createTime, 'YYYY-MM-DD HH:mm:ss');\n  const timespan = now.getTime() - createTime.getTime();\n\n  if (timespan >= minTimeSpan && timespan < hourTimeSpan) {\n    const minute = Math.floor(timespan / minTimeSpan);\n    item.timespanText = `${minute} menit yang lalu`;\n  } else if (timespan >= hourTimeSpan && timespan < dayTimeSpan) {\n    const hours = Math.floor(timespan / hourTimeSpan);\n    item.timespanText = `${hours} jam yang lalu`;\n  } else if (timespan >= dayTimeSpan && timespan < sevenDaysTimeSpan) {\n    const days = Math.floor(timespan / dayTimeSpan);\n    item.timespanText = `${days} hari yang lalu`;\n  } else if (timespan >= sevenDaysTimeSpan) {\n    item.timespanText = fecha.format(createTime, 'D MMM YYYY, HH:mm').replace('Aug', 'Ags').replace('Oct', 'Okt').replace('Dec', 'Des');\n  }\n\n  item.userId = item.userId;\n\n  if (+item.supportNums > 999) {\n    item.supportNums = '999+';\n  }\n\n  if (+item.shareNums > 999) {\n    item.shareNums = '999+';\n  }\n\n  if (+item.messageNums > 999) {\n    item.messageNums = '999+';\n  }\n\n  return item;\n};\n\nconst formatDate = dateStr => {\n  const arr = dateStr.split('-');\n\n  if (arr[1].length === 1) {\n    arr[1] = `0${arr[1]}`;\n  }\n\n  if (arr[1].length === 2) {\n    arr[2] = `0${arr[2]}`;\n  }\n\n  return `${arr[0]}-${arr[1]}-${arr[2]}`;\n};\n\nconst formatMessageList = list => {\n  const now = new Date();\n  return list.map(item => {\n    return item;\n  });\n};\n\nexport { formatCategoryList, formatArticleList, formatArticle, formatMessageList, formatDate };","map":null,"metadata":{},"sourceType":"module"}