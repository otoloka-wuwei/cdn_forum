{"ast":null,"code":"import { useRef } from 'react';\n\nfunction useCancellablePromises() {\n  const pendingPromises = useRef([]);\n\n  const appendPendingPromise = promise => pendingPromises.current = [...pendingPromises.current, promise];\n\n  const removePendingPromise = promise => pendingPromises.current = pendingPromises.current.filter(p => p !== promise);\n\n  const clearPendingPromises = () => pendingPromises.current.map(p => p.cancel());\n\n  const hasPendingPromise = () => pendingPromises.current.length > 0;\n\n  const api = {\n    appendPendingPromise,\n    removePendingPromise,\n    clearPendingPromises,\n    hasPendingPromise\n  };\n  return api;\n}\n\nexport default useCancellablePromises;","map":null,"metadata":{},"sourceType":"module"}